!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();var t=e.p+"images/c8db1.jpg",s="OwHSG",i="w03fr",n="a3dxS",a=e.p+"images/09e43.png",o=e.p+"images/38df4.jpg",m=e.p+"images/3a999.jpg",r=e.p+"images/7963d.jpg",h=e.p+"images/ca0dc.jpg",c=e.p+"images/45c07.jpg",d=e.p+"images/d91ca.jpg";const l=document.getElementById("root");new class{constructor(e,t){this.landing=e,this.main=t,this.landing.showButton.addEventListener("click",this)}handleEvent(e){e.target!==this.landing.showButton||"click"!==e.type||this.main.show()}}(new class{constructor(e){this.init(),this.mount(e),this.setEvents(),this.setStyles(),this.setContent()}init(){this.container=document.createElement("header"),this.heading=document.createElement("h1"),this.tagLine=document.createElement("p"),this.catImage=document.createElement("img"),this.showButton=document.createElement("button"),this.sawInitialAnimationKey="landing: saw initial animation v2.0.0"}mount(e){e.prepend(this.container),this.container.append(this.heading,this.tagLine,this.catImage,this.showButton)}setEvents(){window.addEventListener("load",this),window.addEventListener("resize",this)}setStyles(){this.container.className="tqQET",this.heading.className="hkoel",this.tagLine.className="Hu74v",this.catImage.className="GI29X",this.showButton.className="EA8tF",localStorage.getItem(this.sawInitialAnimationKey)||(this.heading.classList.add("JUzTP"),this.tagLine.classList.add("qPYHL"),this.catImage.classList.add("OnwdU"),this.showButton.classList.add("Qs2qY"))}setContent(){this.setHeadingContent(),this.tagLine.textContent="good memes rayt here",this.catImage.src=t,this.catImage.alt="heavy breathing cat meme",this.showButton.textContent="dank memes hur"}setHeadingContent(){const e=window.innerHeight,t=window.innerWidth;this.heading.innerHTML=e>t?"\n        <pre> Memes </pre>\n        <pre> Purr </pre>\n        <pre> You </pre>":"\n        <pre> Memes Purr You </pre>"}setAnimation(){localStorage.getItem(this.sawInitialAnimationKey)?this.showButton.classList.add("wWrT3"):(this.heading.classList.add("gmyUL"),this.tagLine.classList.add("FGsGT"),this.catImage.classList.add("QP0ns"),this.showButton.classList.add("Si_ZA"),localStorage.setItem(this.sawInitialAnimationKey,!0)),window.removeEventListener("load",this)}handleEvent(e){e.target!==document||"load"!==e.type?e.target!==window||"resize"!==e.type||this.setHeadingContent():this.setAnimation()}}(l),new class{constructor(e){this.init(),this.mount(e),this.setEventsAndObserves(),this.setStyles(),this.setContent()}init(){this.container=document.createElement("main"),this.hideButton=document.createElement("button"),this.moreButton=document.createElement("button"),this.memesContainer=document.createElement("div"),this.initialDivision=document.createElement("hr"),this.loader=new class{constructor(e){this.container=e,this.message=document.createElement("p"),this.message.className="ZLisd",this.messageContent=["Memes hot off the press coming right up!","Fetching some dank memes...","Please wait a bit, the memes will be coming soon."],this.messageContentIndex=Math.floor(3*Math.random()),this.ball=document.createElement("span"),this.ball.className="M8vt_",this.memeImage=document.createElement("img"),this.memeImage.className="Cgbpg",this.memeImageSrc=[o,m,r,h,c,d],this.memeImageSrcIndex=Math.floor(6*Math.random()),this.division=document.createElement("hr")}append(){this.messageContentIndex>=3&&(this.messageContentIndex=0),this.memeImageSrcIndex>=6&&(this.memeImageSrcIndex=0),this.message.textContent=this.messageContent[this.messageContentIndex],this.memeImage.src=this.memeImageSrc[this.memeImageSrcIndex],this.container.append(this.message,this.ball,this.memeImage,this.division),this.messageContentIndex+=1,this.memeImageSrcIndex+=1}remove(){this.message.remove(),this.ball.remove(),this.memeImage.remove(),this.division.remove()}}(this.memesContainer),this.memes=new class{constructor(e){this.container=e,this.subreddits=["memes","dankmemes","meirl","wholesomememes","comedyheaven","pewdiepiesubmissions"],this.subredditsIndex=Math.floor(6*Math.random()),this.memeImagesLoaded=0,this.memesToFetch=10,this.fetchError=!1}async append(){this.subredditsIndex>=6&&(this.subredditsIndex=0);try{const e=await fetch(`https://meme-api.com/gimme/${this.subreddits[this.subredditsIndex]}/${this.memesToFetch}`);if(!e.ok)throw new Error("An error occured while fetching memes.");const t=await e.json(),s=[];t.memes.forEach(((e,t)=>{const i=document.createElement("a"),n=document.createElement("img");i.href=e.postLink,i.target="_blank",n.src=e.url,n.alt=e.title,i.append(n),n.onload=()=>{if(n.onload=null,s[t]=i,this.memeImagesLoaded+=1,this.memeImagesLoaded===this.memesToFetch){this.container.dispatchEvent(new Event("AllMemeImagesFullyLoaded"));for(let e of s){const t=document.createElement("hr");this.container.append(e,t)}this.memeImagesLoaded=0}}}))}catch(e){this.fetchError=!0,this.container.dispatchEvent(new Event("ErrorFetchingMemes")),console.error(e);const t=document.createElement("p"),s=document.createElement("img"),i=document.createElement("hr");t.textContent="\n        Sorry.\n        Something went wrong while getting the memes.\n        Please try again later or refresh the page.",t.className="qsqch",s.src=a,s.className="Xa0bO",this.container.append(t,s,i)}this.subredditsIndex+=1}remove(){this.container.innerHTML=""}}(this.memesContainer),this.initialDivisionObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.hideButton.classList.remove(i):this.hideButton.classList.add(i)}))}))}mount(e){e.append(this.container),this.container.append(this.hideButton,this.memesContainer,this.moreButton)}setEventsAndObserves(){this.hideButton.addEventListener("click",this),this.moreButton.addEventListener("click",this),this.memesContainer.addEventListener("AllMemeImagesFullyLoaded",this),this.memesContainer.addEventListener("ErrorFetchingMemes",this),this.initialDivisionObserver.observe(this.initialDivision)}setStyles(){this.container.className="OlEkH",this.hideButton.className="pI5RL",this.moreButton.className="nzWTp",this.memesContainer.className="CxLiI"}setContent(){this.hideButton.textContent="staph",this.moreButton.textContent="moar"}show(){this.memesContainer.append(this.initialDivision),this.container.classList.add(s),this.moreButton.classList.remove(n),this.loader.append(),this.memes.append()}hide(){this.memes.remove(),this.container.classList.remove(s),this.memes.fetchError&&(this.moreButton.classList.remove(n),this.memes.fetchError=!1)}handleEvent(e){if(e.target!==this.hideButton||"click"!==e.type)return e.target===this.moreButton&&"click"===e.type?(this.moreButton.classList.remove(n),this.loader.append(),void this.memes.append()):e.target===this.memesContainer&&"AllMemeImagesFullyLoaded"===e.type?(this.moreButton.classList.add(n),void this.loader.remove()):void(e.target!==this.memesContainer||"ErrorFetchingMemes"!==e.type||this.loader.remove());this.hide()}}(l))}();